# Dockerコンテナの作成とプッシュ
## 1. ディレクトリとファイルの作成
```
wsl　
cd ~
mkdir my-web-app
cd my-web-app
touch Dockerfile docker-compose.yml index.html
code .
```
## 2. ファイルの編集
- VS Codeにて各ファイルの作成
- Dockerfile、index.html 、docker-compose.yml

### Dockerfile
``` 
ベースイメージとしてApache httpdの最新版を使用  
FROM httpd:latest

ローカルのindex.htmlをコンテナのドキュメントルートにコピー  
COPY ./index.html /usr/local/apache2/htdocs/
```
### index.html (編集前)
``` 
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Hello, Docker!</title>
</head>
<body>
    <h1>Docker + Apache Web Server</h1>
    <p>This is the master branch version.</p>
</body>
</html>

docker-compose.yml

version: '3.8'

services:
  web:
    build: .
    ports:
      - "8080:80"
    volumes:
      - ./index.html:/usr/local/apache2/htdocs/index.html
```       

## 3. Gitリポジトリの初期化とプッシュ（Masterブランチ）
``` 
Gitリポジトリの初期化
git init

# 全てのファイルを追加
git add .

# コミット
git commit -m "Initial commit of Apache web server (master branch)"

# GitHubにリポジトリを作成し、リモートリポジトリを追加
git remote add origin https://github.com/licklider-ai/my-first-repo.git 

# masterブランチにプッシュ
git push -u origin master
``` 
## 4. Developブランチの作成と編集
``` 
developブランチを作成して切り替え
git switch -c develop

# index.htmlを編集

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Hello, Docker!</title>
</head>
<body>
    <h1>Docker + Apache Web Server</h1>
    <p>This is the develop branch version.</p>
</body>
</html>
``` 

## 5. Developブランチをプッシュ
``` 
変更をステージング
git add index.html

# コミット
git commit -m "Update index.html for develop branch"

# developブランチをプッシュ
git push -u origin develop
``` 

## 6. コンテナの起動と確認
``` 
コンテナの起動
docker-compose up
``` 
### サーバーにアクセスして確認
- http://localhost:8080  
→ This is the develop branch version.と表示